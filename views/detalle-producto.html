{% extends "base.html" %}
{% block content %}
<main class="container mt-4">
    <div class="row">
        <div class="col-md-6">
            <img src="{{ producto.image }}" class="img-fluid" alt="productos">
        </div>
        <div class="col-md-6">
            <h1>{{ producto.title }}</h1>
            <p>{{ producto.description }}</p>
            <p class="lead">{{ producto.price }}€</p>
            <form action="/anadir-al-carrito" method="POST">
                <input type="hidden" name="productoId" value="{{ producto._id }}">
                <button type="submit" class="btn btn-primary btn-lg">Añadir al carrito</button>
            </form>
            <h2>Rating del Producto</h3>
            <p>Rating actual: {{ producto.rating.rate | default('No tiene ratings') }}</p>
          
            <form method="POST" action="/api/ratings/{{ producto.ratingId }}">
              <label for="rating">Actualizar rating (0-5):</label>
              <input type="number" id="rating" name="rating" min="0" max="5" required>
              <button type="submit">Actualizar</button>
            </form>
        </div>
    </div>
    
</main>
{% endblock %}